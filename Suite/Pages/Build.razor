@using Expression.Expressions
@using BigNum
@using Expression.Arithmetics

<h3>FunctionConstruct</h3>

<input type="text" @bind="_function"/>

<button @onclick="AddFunction">Exp</button>

@code {

    [Parameter]
    public ArithmeticExp<RealNumbers> ArithmeticExp { get; set; } = null!;

    [Parameter]
    public List<Function<RealNumbers>> Functions { get; set; }= null!;

    [Parameter]
    public List<int> Ind { get; set; }= null!;
    
    [Parameter]
    public Action Changed { get; set; }= null!;

    private string _function = "";

    private void AddFunction()
    {
        if(_function=="") return;
        var exp = ArithmeticExp.Parsing(_function);

        if (exp is null) return;

        Functions.Add(exp);
        Ind[0] = Functions.Count - 1;
        _function = "";
        Changed();
    }

}